<!DOCTYPE html>
<html>
<head>
 <meta charset="utf-8">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.css">


<link rel="stylesheet" type="text/css" media="screen and (max-device-width: 600px)" href="../style_mobile/news_mobile.css" />
<link rel="stylesheet" type="text/css" media="screen and (min-device-width: 601px)" href="../style/news.css" />

<link rel="stylesheet" type="text/css" media="screen and (max-device-width: 600px)" href="../style_mobile/new_item.css" />
<link rel="stylesheet" type="text/css" media="screen and (min-device-width: 601px)" href="../style/new_item.css" />

<link rel="stylesheet" type="text/css" media="screen and (max-device-width: 600px)" href="../style_mobile/my_ticket_mobile.css" />
<link rel="stylesheet" type="text/css" media="screen and (min-device-width: 601px)" href="../style/my_ticket.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script>
    fetch('http://127.0.0.1:8000/ticket/')
      .then(res => res.json())
      .then((out) => {

          var str = ''

            out.forEach(function(ticket) {
            str +=   `<div class='column' style='background-color:#9FD9EA;'>
                          <h2>`+ticket.arival+ ` - `+ ticket.departure+`<i class='fas fa-trash'></i></h2>
                          <p>`+ticket.date+`</p>
                          </div>`;
            }); 
          document.getElementById("listTicket").innerHTML = str;
        })
      .catch(err => console.log(err));
  </script>
</head>
<body>

<div class="topnav" id="myTopnav">
  <a href="../index.html" class="active">Log out</a>
  <a href="home.html">Home</a>
  <a href="">My Tickets</a>
  <a href="news.html">News</a>
  <a href="javascript:void(0);" class="icon" onclick="myFunction()">
    <i class="fa fa-bars"></i>
  </a>
</div>

<div class="bgimg-2">
  <div class="caption">
  <span class="border" style="background-color:transparent;font-size:25px;color: #f7f7f7;">YOUR TICKET</span>
  </div>
</div>
<div class = "all_ticket">
<div id="btnContainer">
  <button class="btn" onclick="listView()"><i class="fa fa-bars"></i> List</button> 
  <button class="btn active" onclick="gridView()"><i class="fa fa-th-large"></i> Grid</button>
  <div id="listTicket">

  </div>



</div>
</div>
</div>
<script>
// Get the elements with class="column"
var elements = document.getElementsByClassName("column");

// Declare a loop variable
var i;

// List View
function listView() {
  for (i = 0; i < elements.length; i++) {
    elements[i].style.width = "100%";
  }
}

// Grid View
function gridView() {
  for (i = 0; i < elements.length; i++) {
    elements[i].style.width = "50%";
  }
}

/* Optional: Add active class to the current button (highlight it) */
var container = document.getElementById("btnContainer");
var btns = container.getElementsByClassName("btn");
for (var i = 0; i < btns.length; i++) {
  btns[i].addEventListener("click", function() {
    var current = document.getElementsByClassName("active");
    current[0].className = current[0].className.replace(" active", "");
    this.className += " active";
  });
}
    

    
function myFunction() {
    var x = document.getElementById("myTopnav");
    if (x.className === "topnav") {
        x.className += " responsive";
    } else {
        x.className = "topnav";
    }
}

</script>



</body>
</html>
